---
import '../styles/global.css';
import { t, type TranslationsLang } from '../lang/translations';
import { getRelativeLocaleUrl } from 'astro:i18n';

type Props = {
  title?: string;
  lang: TranslationsLang;
};

const { title, lang = 'pt-br' } = Astro.props;
const name = 'Carlos A. Gomes';
const fullTitle = title ? `${title} | ${name}` : name;
// FIXIT: Fix header in light mode
// FIXIT: Add Footer styles
---

<!doctype html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{fullTitle}</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      crossorigin="anonymous"
      href="https://fonts.googleapis.com/css2?family=Raleway:wght@100;300;400;700&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&display=swap"
    />
    <slot name="head" />
  </head>
  <body class="relative pt-16">
    <header
      class="fixed top-0 left-0 right-0 z-10 h-16 bg-neutral-950/50 backdrop-blur-xl"
    >
      <div class="container mx-auto flex h-full items-center justify-between">
        <a href={getRelativeLocaleUrl(lang, '/')}> Carlos A. Gomes </a>
        <nav>
          <ul class="flex gap-4">
            <li>
              <a href={getRelativeLocaleUrl(lang, '/')}>{t('home', lang)}</a>
            </li>
            <li>
              <a href={getRelativeLocaleUrl(lang, 'blog')}>{t('blog', lang)}</a>
            </li>
            <li>
              <a href={getRelativeLocaleUrl(lang, 'experiments')}
                >{t('experiments', lang)}</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <slot />

    <footer>
      <div class="container mx-auto mt-5">
        <aside></aside>
        <aside>Powered by Astro</aside>
      </div>
    </footer>
  </body>
</html>

<script type="application/ld+json">
  {
    "@context": "http://schema.org",
    "@type": "Person",
    "name": "Carlos A. Gomes",
    "email": "carlos.algms@gmail.com",
    "jobTitle": "Frontend Engineer",
    "gender": "Male",
    "url": "https://github.com/carlos-algms",
    "image": "https://github.com/carlos-algms.png",
    "sameAs": [
      "https://www.linkedin.com/in/carlosalgms/",
      "https://twitter.com/carlos_algms"
    ]
  }
</script>
