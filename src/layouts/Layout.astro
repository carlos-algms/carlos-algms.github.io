---
import '../styles/global.css';
import { t, type TranslationsLang } from '../lang/translations';
import { getRelativeLocaleUrl } from 'astro:i18n';

import LinkedInIcon from '../assets/icons/linkedin.svg';
import GitHubIcon from '../assets/icons/github.svg';
import { cn } from '../styles/classes';
import ThemeSelector from './ThemeSelector.astro';
import BaseHtml from './BaseHtml.astro';

type Props = {
  title?: string;
  lang: TranslationsLang;
};

const { title, lang = 'pt-br' } = Astro.props;
---

<BaseHtml title={title} lang={lang}>
  <slot name="head" slot="head" />

  <header
    class="sticky top-0 z-10 h-16 bg-neutral-200/50 dark:bg-neutral-900/50 backdrop-blur-xl"
  >
    <div
      class="container mx-auto flex h-full items-center justify-between flex-col sm:flex-row"
    >
      <a
        class="hover:text-accent font-bold text-lg"
        href={getRelativeLocaleUrl(lang, '/')}
      >
        Carlos A. Gomes
      </a>

      <aside class="flex gap-4">
        <ThemeSelector lang={lang} />

        <nav>
          <ul class="flex gap-4">
            <li>
              <a
                class="hover:text-accent"
                href={getRelativeLocaleUrl(lang, '/')}>{t('home', lang)}</a
              >
            </li>
            <li>
              <a
                class="hover:text-accent"
                href={getRelativeLocaleUrl(lang, 'blog')}>{t('blog', lang)}</a
              >
            </li>
            <li>
              <a
                class="hover:text-accent"
                href={getRelativeLocaleUrl(lang, 'experiments')}
                >{t('experiments', lang)}</a
              >
            </li>
          </ul>
        </nav>
      </aside>
    </div>
  </header>

  <main class="flex-1">
    <slot />
  </main>

  <footer
    class="border-t border-zinc-300 dark:border-zinc-700 dark:bg-muted/40 mt-10 pb-15 pt-10"
  >
    <div class="container mx-auto flex flex-col gap-10 sm:flex-row">
      <aside class="flex flex-col gap-2">
        <h3 class="font-bold">Carlos A. Gomes</h3>
        <div class="flex flex-row gap-3">
          <a
            href="https://github.com/carlos-algms"
            target="_blank"
            class={cn(
              'inline-flex items-center justify-center rounded-full w-8 h-8 text-sm font-medium transition-colors',
              'border border-zinc-300 dark:border-zinc-700 border-input bg-background',
              'hover:bg-accent hover:text-accent-foreground',
            )}
            aria-label="Carlos Gomes GitHub Profile"
          >
            <GitHubIcon aria-hidden class="h-4 w-4" />
          </a>

          <a
            href="https://www.linkedin.com/in/carlosalgms/"
            target="_blank"
            class={cn(
              'inline-flex items-center justify-center rounded-full w-8 h-8 text-sm font-medium transition-colors',
              'border border-zinc-300 dark:border-zinc-700 border-input bg-background',
              'hover:bg-accent hover:text-accent-foreground',
            )}
            aria-label="Carlos Gomes LinkedIn Profile"
          >
            <LinkedInIcon aria-hidden class="h-4 w-4" />
          </a>
        </div>
      </aside>
      <aside class="flex flex-col gap-2">
        <h4 class="font-bold">Links</h4>

        <ul class="flex flex-col gap-1 dark:text-muted-foreground">
          <li>
            <a class="hover:text-accent" href={getRelativeLocaleUrl(lang, '/')}
              >{t('home', lang)}</a
            >
          </li>
          <li>
            <a
              class="hover:text-accent"
              href={getRelativeLocaleUrl(lang, 'blog')}>{t('blog', lang)}</a
            >
          </li>
          <li>
            <a
              class="hover:text-accent"
              href={getRelativeLocaleUrl(lang, 'experiments')}
              >{t('experiments', lang)}</a
            >
          </li>
        </ul>
      </aside>
    </div>
    <div
      class="container mx-auto mt-10 dark:text-muted-foreground flex justify-between border-t border-zinc-300 dark:border-zinc-800 pt-4"
    >
      <aside>Â© 2025 All rights reserved.</aside>
      <aside>Powered by Astro</aside>
    </div>
  </footer>
</BaseHtml>
