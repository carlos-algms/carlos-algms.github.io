---
import '../styles/global.css';
import { t, type TranslationsLang } from '../lang/translations';
import { getRelativeLocaleUrl } from 'astro:i18n';

type Props = {
  title?: string;
  lang: TranslationsLang;
};

const { title, lang = 'pt-br' } = Astro.props;
const name = 'Carlos A. Gomes';
const fullTitle = title ? `${title} | ${name}` : name;
// FIXIT: Fix header in light mode
// FIXIT: Add Footer styles
---

<!doctype html>
<html lang={lang}>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <link
      rel="icon"
      sizes="256x256"
      type="image/png"
      href="/images/favicon.png"
    />
    <link
      rel="icon"
      sizes="16x16"
      type="image/x-icon"
      href="/images/favicon.ico"
    />
    <link
      rel="apple-touch-icon"
      sizes="57x57"
      href="/images/apple-touch-icon-57x57.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="72x72"
      href="/images/apple-touch-icon-72x72.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="76x76"
      href="/images/apple-touch-icon-76x76.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="114x114"
      href="/images/apple-touch-icon-114x114.png"
    />
    <link
      rel="apple-touch-icon"
      sizes="144x144"
      href="/images/apple-touch-icon-144x144.png"
    />
    <title>{fullTitle}</title>

    <link rel="preconnect" href="https://fonts.googleapis.com" crossorigin />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      rel="stylesheet"
      crossorigin="anonymous"
      href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&display=swap&family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&display=swap"
    />
    <slot name="head" />
  </head>
  <body class="relative flex flex-col min-h-dvh">
    <header class="sticky top-0 z-10 h-16 bg-neutral-950/50 backdrop-blur-xl">
      <div class="container mx-auto flex h-full items-center justify-between">
        <a class="hover:text-accent" href={getRelativeLocaleUrl(lang, '/')}>
          Carlos A. Gomes
        </a>
        <nav>
          <ul class="flex gap-4">
            <li>
              <a
                class="hover:text-accent"
                href={getRelativeLocaleUrl(lang, '/')}>{t('home', lang)}</a
              >
            </li>
            <li>
              <a
                class="hover:text-accent"
                href={getRelativeLocaleUrl(lang, 'blog')}>{t('blog', lang)}</a
              >
            </li>
            <li>
              <a
                class="hover:text-accent"
                href={getRelativeLocaleUrl(lang, 'experiments')}
                >{t('experiments', lang)}</a
              >
            </li>
          </ul>
        </nav>
      </div>
    </header>

    <main class="flex-1">
      <slot />
    </main>

    <footer>
      <div class="container mx-auto mt-5">
        <aside></aside>
        <aside>Powered by Astro</aside>
      </div>
    </footer>
  </body>
</html>

<script type="application/ld+json" is:inline>
  {
    "@context": "http://schema.org",
    "@type": "Person",
    "name": "Carlos A. Gomes",
    "email": "carlos.algms@gmail.com",
    "jobTitle": "Frontend Engineer",
    "gender": "Male",
    "url": "https://github.com/carlos-algms",
    "image": "https://github.com/carlos-algms.png",
    "sameAs": [
      "https://www.linkedin.com/in/carlosalgms/",
      "https://twitter.com/carlos_algms"
    ]
  }
</script>
